<!DOCTYPE html>
<html lang="en_US">
<head>
    <meta charset="UTF-8">
    <title>Download from here</title>
	<link rel="icon"  href="palm.04.jpg" type="image/jpg">
    <script type="module" src="app.js"></script>
    <style>
        * {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
    <script>
let downloadCallback = (mess) => {
    let messZone = document.getElementById("mess-zone");
    messZone.innerText = mess;
};

let process = () => {
    let url = document.getElementById("doc-url").value;
    let name = document.getElementById("doc-name").value;

    doDownload(url, name, downloadCallback);
};        
let processV2 = () => {
    let url = document.getElementById("doc-url").value;
    let name = document.getElementById("doc-name").value;

    directDownload(url, name, downloadCallback); // May raise a CORS error
};        
    </script>
</head>
<body>
    <h1>Download from here</h1>
    <table>
        <tr>
            <td>Document URL</td>
            <td><input type="text" id="doc-url" placeholder="URL of the document to fetch" size="60"></td>
        </tr>
        <tr>
            <td>Name on the server</td>
            <td><input type="text" id="doc-name" placeholder="Downloaded file ame on the server" size="20"></td>
        </tr>
    </table>
    <button onclick="process();">Do it (V1).</button>
    <button onclick="processV2();" title="May raise a CORS error">Do it (V2).</button>
    <div id="mess-zone">

    </div>
</body>
<script>
    window.onload = () => {
        console.log("Loaded!");
    };
</script>
</html>
