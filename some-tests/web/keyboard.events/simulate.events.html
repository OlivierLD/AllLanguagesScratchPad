<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Event Simulator</title>
	<!--
	See keyCodes at https://css-tricks.com/snippets/javascript/javascript-keycodes/
	createEvent: https://www.w3schools.com/jsref/event_createevent.asp
	KeyBoardEvent: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent

	-->
</head>
<body>
	<h2>Keyboard event simulator</h2>
  <textarea id="textarea-01" style="width: 400px; height: 200px;"></textarea>
	<br/>
	<button onclick="bam();">Simulate</button>
</body>
<script type="text/javascript">
	let element = document.getElementById("textarea-01");

	// element.dispatchEvent(new KeyboardEvent('keypress',{'key':'a'}));
	// element.dispatchEvent(new KeyboardEvent('keydown',{'key':'Shift'}));
	// element.dispatchEvent(new KeyboardEvent('keyup',{'key':'Shift'}));

	function bam() {
		// element.dispatchEvent(new KeyboardEvent('keypress', {'key':'a', 'char':'A', 'shiftKey': true}));

		// 65: a
		let event = new KeyboardEvent('keypress', {
			'key': 'a'
		});

		// let theKey = "a";
		// let keycode = theKey.charCodeAt(0);
		// let isCtrl = false;
		// let isAlt = false;
		// let isShift = false;
		// var e = new KeyboardEvent( "keypress", {
		// 	bubbles: true,
		// 	cancelable: true,
		// 	char: String.fromCharCode(keycode),
		// 	key: String.fromCharCode(keycode),
		// 	shiftKey: isShift,
		// 	ctrlKey: isCtrl,
		// 	altKey: isAlt } );
		// Object.defineProperty(e, 'keyCode', {get : function() { return this.keyCodeVal; } });
		// e.keyCodeVal = keycode;

		element.focus();
		element.dispatchEvent(event);
		element.value = 'Et merde';

		// element.dispatchEvent(new KeyboardEvent('keypress',{'key':'a'}));
	}
</script>
</html>
